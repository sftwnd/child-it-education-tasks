# Задание №27 (№3231)

В городе M расположена кольцевая автодорога длиной в N километров с движением в обе стороны. На каждом километре автодороги расположены пункты приема мусора определенной вместимости.

В пределах кольцевой дороги в одном из пунктов сборки мусора собираются поставить мусороперерабатывающий завод таким образом, чтобы стоимость доставки мусора была минимальной.

Стоимость доставки мусора вычисляется, как вместимость пункта сбора умноженная на расстояние от пункта сбора мусора до мусороперерабатывающего завода.

Если мусороперерабатывающий завод находится рядом с пунктом сбора расстояние считается нулевым. Контейнеры нумеруются с **1** до N.

_Рядом с каким пунктом сбора мусора нужно поставить мусороперерабатывающий завод?_

## Описание входных данных:

Первое число N — количество контейнеров для мусора.

Последующие N чисел — количество килограмм мусора, которое производится на точке.

## Описание выходных данных:

Одно число — номер контейнер для мусора рядом с которым стоит расположить перерабатывающий завод.


## Пример организации входных данных:

|   |
|---|
| 6 |
| 8 |
| 20 |
| 5 |
| 13 |
| 7 |
| 19 |

Для данного примера ответ — **6** _(7⸱1 + 13⸱2 + 5⸱3 + 20⸱2 + 8⸱1 + 19⸱0)_.

[27-A.txt](https://drive.google.com/u/0/uc?id=1h24yUIXxjfxatrC9cOjP_cLwh9cwpu3q&export=download)
[27-B.txt](https://drive.google.com/u/0/uc?id=1redFf3jP3bBWtxetwklFFsuTSstzypUx&export=download)

[Документ: dosrochny_variant_2022.pdf](https://4ege.ru/trening-informatika/64504-variant-s-dosrochnogo-etapa-2022-po-informatike.html)

[Тестовые файлы](https://4ege.ru/trening-informatika/64504-variant-s-dosrochnogo-etapa-2022-po-informatike.html)

## Решение

Расположим набор элементов в таблице, когда мы считаем для 4-го элемента:

| 6 | 8 | 20 | 5 | 13 | 7 | 19 |
|---|---|----|---|----|---|----|
|   |   |    | * |    |   |    |
| 6 | 8 | 20 |   | 13 | 7 | 19 |
| 6 | 8 |    |   |    | 7 | 19 |
| 6 |   |    |   |    |   | 19 |

Сумма будет **X4** = _**(3×x1 + 2×x2 + 1×x3 + 0×x4 + 1×x5 + 2×x6 + 3×x7)**_

Теперь сделаем для 5-го элемента:

| 6 | 8 | 20 | 5 | 13 | 7 | 19 | 6 |
|---|---|----|---|----|---|----|---|
|   |   |    |   | *  |   |    |   |
| 6 | 8 | 20 | 5 |    | 7 | 19 | 6 |
| 6 | 8 | 20 |   |    |   | 19 | 6 |
| 6 | 8 |    |   |    |   |    | 6 |

Сумма будет **X5** = _**(3×x2 + 2×x3 + 1×x4 + 0×x5 + 1×x6 + 2×x7 + 3×x8)**_
Или	**X5** = _**(3×x1 + 3×x2 + 2×x3 + 1×x4 + 0×x5 + 1×x6 + 2×x7)**_

**X5-X4** = _**(3×x1 + 3×x2 + 2×x3 + 1×x4 + 0×x5 + 1×x6 + 2×x7) - (3×x1 + 2×x2 + 1×x3 + 0×x4 + 1×x5 + 2×x6 + 3×x7)**_ = _**0×x1 + 1×x2 + 1×x3 + 1×x4 - 1×x5 - 1×x6 - 1×x7**_

Т.е. Если мы переходим от элемента N к элементу N+1, то сумма изменится на сумму  M/2 элементов слева от текущего - сумма M/2 элементов начиная с текущего и вправо.

Если мы сохраняем для каждой ячейки сумму их M/2 элементов начиная с неё и вправо (назовём её ∑n), то для чётного числа элементов сумма M/2 элементов справа будет равна ∑-∑n, а для нечётного: ∑-∑n-m[n+M/2] (то есть необходимо убрать ещё элемент, который через M/2 от текущего).

_FYI:_ _Поскольку во всех файлах чётное число элементов - достаточно посчитать всё без m[n+M/2]_

Если мы примем сумму для последнего элемента за 0, то переход к 1-му элементу изменит эту сумму на значение V1 = Vm-∑1+(∑-∑1) и так далее. Мы пробегаемся по всем элементам и выводим тот индекс, для которого Vn имеет минимальное значение.

_FYI:_ Для контроля если l=m-1, то Vm = Vl-∑m+(∑-∑m) = 0
_FYI:_ _**Учитываем, что индексы массива с 0, а вывести нужно номер, начиная с 1.**_
